{"ast":null,"code":"import React,{useEffect,useMemo,useState}from\"react\";import{bookDocument,createDocument,listDocuments}from\"../documentService\";import{DocumentModal}from\"./DocumentModal\";import\"./_documentList.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TYPE_OPTIONS=[{value:\"all\",label:\"Wszystkie\"},{value:\"INCOME\",label:\"Przychód\"},{value:\"COST\",label:\"Koszt\"}];const STATUS_OPTIONS=[{value:\"all\",label:\"Wszystkie\"},{value:\"BUFFER\",label:\"Bufor\"},{value:\"BOOKED\",label:\"Zaksięgowane\"}];function formatDatePL(value){if(!value)return\"—\";const d=new Date(value);if(Number.isNaN(d.getTime()))return value;const dd=String(d.getDate()).padStart(2,\"0\");const mm=String(d.getMonth()+1).padStart(2,\"0\");const yyyy=d.getFullYear();return\"\".concat(dd,\".\").concat(mm,\".\").concat(yyyy);}function toNumberOrNull(v){if(v===null||v===undefined)return null;if(typeof v===\"number\")return Number.isFinite(v)?v:null;if(typeof v===\"string\"){const s=v.trim();if(!s)return null;const n=Number(s);return Number.isFinite(n)?n:null;}return null;}function formatMoney(v){const n=toNumberOrNull(v);return n===null?\"—\":n.toFixed(2);}function getField(obj,camel,snake){if(!obj)return undefined;if(obj[camel]!==undefined)return obj[camel];if(obj[snake]!==undefined)return obj[snake];return undefined;}export const DocumentList=_ref=>{var _user$roles;let{user}=_ref;const[docs,setDocs]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[type,setType]=useState(\"all\");const[status,setStatus]=useState(\"all\");const[q,setQ]=useState(\"\");const[createOpen,setCreateOpen]=useState(false);const canBook=user.role===\"ROLE_MANAGER\"||((_user$roles=user.roles)!==null&&_user$roles!==void 0?_user$roles:[]).includes(\"ROLE_MANAGER\");const normalizeStatus=s=>{const up=(s!==null&&s!==void 0?s:\"\").toUpperCase();if(up===\"BUF\")return\"BUFFER\";if(up===\"BUFFER\")return\"BUFFER\";if(up===\"BOOKED\")return\"BOOKED\";return up;};const load=async()=>{setLoading(true);setError(null);try{const data=await listDocuments({type:type===\"all\"?undefined:type,status:status===\"all\"?undefined:status});setDocs(Array.isArray(data)?data:[]);}catch(e){console.error(e);setError(\"Nie udało się pobrać dokumentów.\");}finally{setLoading(false);}};useEffect(()=>{load();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[type,status]);const filtered=useMemo(()=>{const qq=q.trim().toLowerCase();if(!qq)return docs;return docs.filter(d=>{var _getField;const desc=((_getField=getField(d,\"description\",\"description\"))!==null&&_getField!==void 0?_getField:\"\").toLowerCase();return desc.includes(qq);});},[docs,q]);const handleBook=async docId=>{if(!canBook)return;try{await bookDocument(docId);await load();}catch(e){console.error(e);alert(\"Nie udało się zaksięgować dokumentu.\");}};const handleCreate=async payload=>{await createDocument(payload);await load();};return/*#__PURE__*/_jsxs(\"div\",{className:\"doc-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"doc-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dokumenty\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Filtruj po typie/statusie. Dokumenty w buforze mo\\u017Ce ksi\\u0119gowa\\u0107 tylko kierownik.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doc-toolbar\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"doc-input\",placeholder:\"Szukaj w opisie\\u2026\",value:q,onChange:e=>setQ(e.target.value)}),/*#__PURE__*/_jsx(\"select\",{className:\"doc-select\",value:type,onChange:e=>setType(e.target.value),children:TYPE_OPTIONS.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o.value,children:o.label},o.value))}),/*#__PURE__*/_jsx(\"select\",{className:\"doc-select\",value:status,onChange:e=>setStatus(e.target.value),children:STATUS_OPTIONS.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o.value,children:o.label},o.value))}),/*#__PURE__*/_jsx(\"button\",{className:\"doc-btn doc-btn--ghost\",type:\"button\",onClick:load,disabled:loading,children:\"Od\\u015Bwie\\u017C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"doc-btn doc-btn--primary\",type:\"button\",onClick:()=>setCreateOpen(true),children:\"+ Dodaj\"})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"doc-info\",children:\"\\u0141adowanie\\u2026\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"doc-error\",children:error}),!loading&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"doc-tablewrap\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"doc-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data zdarzenia\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Typ\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Opis\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nr ewid.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"doc-th-right\",children:\"Netto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"doc-th-right\",children:\"VAT\"}),/*#__PURE__*/_jsx(\"th\",{className:\"doc-th-right\",children:\"Brutto\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Akcje\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:10,className:\"doc-empty\",children:\"Brak dokument\\xF3w dla wybranych filtr\\xF3w.\"})}):filtered.map(d=>{var _getField2,_getField3,_getField4;const st=normalizeStatus((_getField2=getField(d,\"status\",\"status\"))!==null&&_getField2!==void 0?_getField2:\"\");const isBuffer=st===\"BUFFER\";const eventDate=getField(d,\"eventDate\",\"event_date\");const ledgerNumber=getField(d,\"ledgerNumber\",\"ledger_number\");const net=getField(d,\"netAmount\",\"net_amount\");const vat=getField(d,\"vatAmount\",\"vat_amount\");const gross=getField(d,\"grossAmount\",\"gross_amount\");const docType=(_getField3=getField(d,\"type\",\"type\"))!==null&&_getField3!==void 0?_getField3:\"\";return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:d.id}),/*#__PURE__*/_jsx(\"td\",{children:formatDatePL(eventDate)}),/*#__PURE__*/_jsx(\"td\",{children:docType===\"INCOME\"?\"Przychód\":docType===\"COST\"?\"Koszt\":docType}),/*#__PURE__*/_jsx(\"td\",{children:(_getField4=getField(d,\"description\",\"description\"))!==null&&_getField4!==void 0?_getField4:\"—\"}),/*#__PURE__*/_jsx(\"td\",{children:isBuffer?/*#__PURE__*/_jsx(\"span\",{className:\"doc-badge doc-badge--muted\",children:\"BUFFER\"}):/*#__PURE__*/_jsx(\"span\",{className:\"doc-badge doc-badge--ok\",children:\"BOOKED\"})}),/*#__PURE__*/_jsx(\"td\",{children:ledgerNumber!==null&&ledgerNumber!==void 0?ledgerNumber:\"—\"}),/*#__PURE__*/_jsx(\"td\",{className:\"doc-td-right\",children:formatMoney(net)}),/*#__PURE__*/_jsx(\"td\",{className:\"doc-td-right\",children:formatMoney(vat)}),/*#__PURE__*/_jsx(\"td\",{className:\"doc-td-right\",children:formatMoney(gross)}),/*#__PURE__*/_jsx(\"td\",{children:isBuffer?canBook?/*#__PURE__*/_jsx(\"button\",{className:\"doc-btn doc-btn--primary\",type:\"button\",onClick:()=>handleBook(d.id),children:\"Ksi\\u0119guj\"}):/*#__PURE__*/_jsx(\"button\",{className:\"doc-btn\",type:\"button\",disabled:true,title:\"Tylko kierownik mo\\u017Ce ksi\\u0119gowa\\u0107 dokumenty\",children:\"\\u2014\"}):/*#__PURE__*/_jsx(\"button\",{className:\"doc-btn\",type:\"button\",disabled:true,children:\"\\u2713\"})})]},d.id);})})]})}),createOpen&&/*#__PURE__*/_jsx(DocumentModal,{onClose:()=>setCreateOpen(false),onSubmit:handleCreate})]});};","map":{"version":3,"names":["React","useEffect","useMemo","useState","bookDocument","createDocument","listDocuments","DocumentModal","jsx","_jsx","jsxs","_jsxs","TYPE_OPTIONS","value","label","STATUS_OPTIONS","formatDatePL","d","Date","Number","isNaN","getTime","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","concat","toNumberOrNull","v","undefined","isFinite","s","trim","n","formatMoney","toFixed","getField","obj","camel","snake","DocumentList","_ref","_user$roles","user","docs","setDocs","loading","setLoading","error","setError","type","setType","status","setStatus","q","setQ","createOpen","setCreateOpen","canBook","role","roles","includes","normalizeStatus","up","toUpperCase","load","data","Array","isArray","e","console","filtered","qq","toLowerCase","filter","_getField","desc","handleBook","docId","alert","handleCreate","payload","className","children","placeholder","onChange","target","map","o","onClick","disabled","length","colSpan","_getField2","_getField3","_getField4","st","isBuffer","eventDate","ledgerNumber","net","vat","gross","docType","id","title","onClose","onSubmit"],"sources":["/var/www/web-szyper/src/components/DocumentList.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport type {\n    DocumentCreateRequest,\n    DocumentRow,\n    DocumentStatus,\n    DocumentType,\n    User,\n} from \"../types\";\nimport { bookDocument, createDocument, listDocuments } from \"../documentService\";\nimport { DocumentModal } from \"./DocumentModal\";\nimport \"./_documentList.css\";\n\ntype Props = {\n    user: User;\n};\n\nconst TYPE_OPTIONS: Array<{ value: string; label: string }> = [\n    { value: \"all\", label: \"Wszystkie\" },\n    { value: \"INCOME\", label: \"Przychód\" },\n    { value: \"COST\", label: \"Koszt\" },\n];\n\nconst STATUS_OPTIONS: Array<{ value: string; label: string }> = [\n    { value: \"all\", label: \"Wszystkie\" },\n    { value: \"BUFFER\", label: \"Bufor\" },\n    { value: \"BOOKED\", label: \"Zaksięgowane\" },\n];\n\nfunction formatDatePL(value?: string | null): string {\n    if (!value) return \"—\";\n\n    const d = new Date(value);\n    if (Number.isNaN(d.getTime())) return value;\n\n    const dd = String(d.getDate()).padStart(2, \"0\");\n    const mm = String(d.getMonth() + 1).padStart(2, \"0\");\n    const yyyy = d.getFullYear();\n\n    return `${dd}.${mm}.${yyyy}`;\n}\n\nfunction toNumberOrNull(v: unknown): number | null {\n    if (v === null || v === undefined) return null;\n    if (typeof v === \"number\") return Number.isFinite(v) ? v : null;\n    if (typeof v === \"string\") {\n        const s = v.trim();\n        if (!s) return null;\n        const n = Number(s);\n        return Number.isFinite(n) ? n : null;\n    }\n    return null;\n}\n\nfunction formatMoney(v: unknown): string {\n    const n = toNumberOrNull(v);\n    return n === null ? \"—\" : n.toFixed(2);\n}\n\nfunction getField<T = any>(obj: any, camel: string, snake: string): T | undefined {\n    if (!obj) return undefined;\n    if (obj[camel] !== undefined) return obj[camel] as T;\n    if (obj[snake] !== undefined) return obj[snake] as T;\n    return undefined;\n}\n\nexport const DocumentList: React.FC<Props> = ({ user }) => {\n    const [docs, setDocs] = useState<DocumentRow[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    const [type, setType] = useState<string>(\"all\");\n    const [status, setStatus] = useState<string>(\"all\");\n    const [q, setQ] = useState(\"\");\n\n    const [createOpen, setCreateOpen] = useState(false);\n\n    const canBook =\n        user.role === \"ROLE_MANAGER\" || (user.roles ?? []).includes(\"ROLE_MANAGER\");\n\n    const normalizeStatus = (s: string) => {\n        const up = (s ?? \"\").toUpperCase();\n        if (up === \"BUF\") return \"BUFFER\";\n        if (up === \"BUFFER\") return \"BUFFER\";\n        if (up === \"BOOKED\") return \"BOOKED\";\n        return up;\n    };\n\n    const load = async () => {\n        setLoading(true);\n        setError(null);\n        try {\n            const data = await listDocuments({\n                type: type === \"all\" ? undefined : (type as DocumentType),\n                status: status === \"all\" ? undefined : (status as DocumentStatus),\n            });\n            setDocs(Array.isArray(data) ? data : ([] as any));\n        } catch (e) {\n            console.error(e);\n            setError(\"Nie udało się pobrać dokumentów.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        load();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [type, status]);\n\n    const filtered = useMemo(() => {\n        const qq = q.trim().toLowerCase();\n        if (!qq) return docs;\n\n        return docs.filter((d: any) => {\n            const desc = (getField<string | null>(d, \"description\", \"description\") ?? \"\").toLowerCase();\n            return desc.includes(qq);\n        });\n    }, [docs, q]);\n\n    const handleBook = async (docId: number) => {\n        if (!canBook) return;\n\n        try {\n            await bookDocument(docId);\n            await load();\n        } catch (e) {\n            console.error(e);\n            alert(\"Nie udało się zaksięgować dokumentu.\");\n        }\n    };\n\n    const handleCreate = async (payload: DocumentCreateRequest) => {\n        await createDocument(payload);\n        await load();\n    };\n\n    return (\n        <div className=\"doc-card\">\n            <div className=\"doc-header\">\n                <div>\n                    <h2>Dokumenty</h2>\n                    <p>\n                        Filtruj po typie/statusie. Dokumenty w buforze może księgować tylko\n                        kierownik.\n                    </p>\n                </div>\n\n                <div className=\"doc-toolbar\">\n                    <input\n                        className=\"doc-input\"\n                        placeholder=\"Szukaj w opisie…\"\n                        value={q}\n                        onChange={(e) => setQ(e.target.value)}\n                    />\n\n                    <select\n                        className=\"doc-select\"\n                        value={type}\n                        onChange={(e) => setType(e.target.value)}\n                    >\n                        {TYPE_OPTIONS.map((o) => (\n                            <option key={o.value} value={o.value}>\n                                {o.label}\n                            </option>\n                        ))}\n                    </select>\n\n                    <select\n                        className=\"doc-select\"\n                        value={status}\n                        onChange={(e) => setStatus(e.target.value)}\n                    >\n                        {STATUS_OPTIONS.map((o) => (\n                            <option key={o.value} value={o.value}>\n                                {o.label}\n                            </option>\n                        ))}\n                    </select>\n\n                    <button\n                        className=\"doc-btn doc-btn--ghost\"\n                        type=\"button\"\n                        onClick={load}\n                        disabled={loading}\n                    >\n                        Odśwież\n                    </button>\n\n                    <button\n                        className=\"doc-btn doc-btn--primary\"\n                        type=\"button\"\n                        onClick={() => setCreateOpen(true)}\n                    >\n                        + Dodaj\n                    </button>\n                </div>\n            </div>\n\n            {loading && <div className=\"doc-info\">Ładowanie…</div>}\n            {error && <div className=\"doc-error\">{error}</div>}\n\n            {!loading && !error && (\n                <div className=\"doc-tablewrap\">\n                    <table className=\"doc-table\">\n                        <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>Data zdarzenia</th>\n                            <th>Typ</th>\n                            <th>Opis</th>\n                            <th>Status</th>\n                            <th>Nr ewid.</th>\n                            <th className=\"doc-th-right\">Netto</th>\n                            <th className=\"doc-th-right\">VAT</th>\n                            <th className=\"doc-th-right\">Brutto</th>\n                            <th>Akcje</th>\n                        </tr>\n                        </thead>\n\n                        <tbody>\n                        {filtered.length === 0 ? (\n                            <tr>\n                                <td colSpan={10} className=\"doc-empty\">\n                                    Brak dokumentów dla wybranych filtrów.\n                                </td>\n                            </tr>\n                        ) : (\n                            filtered.map((d: any) => {\n                                const st = normalizeStatus(getField<string>(d, \"status\", \"status\") ?? \"\");\n                                const isBuffer = st === \"BUFFER\";\n\n                                const eventDate = getField<string | null>(d, \"eventDate\", \"event_date\");\n                                const ledgerNumber = getField<number | string | null>(d, \"ledgerNumber\", \"ledger_number\");\n\n                                const net = getField(d, \"netAmount\", \"net_amount\");\n                                const vat = getField(d, \"vatAmount\", \"vat_amount\");\n                                const gross = getField(d, \"grossAmount\", \"gross_amount\");\n\n                                const docType = getField<string>(d, \"type\", \"type\") ?? \"\";\n\n                                return (\n                                    <tr key={d.id}>\n                                        <td>{d.id}</td>\n                                        <td>{formatDatePL(eventDate)}</td>\n                                        <td>\n                                            {docType === \"INCOME\"\n                                                ? \"Przychód\"\n                                                : docType === \"COST\"\n                                                    ? \"Koszt\"\n                                                    : docType}\n                                        </td>\n                                        <td>{(getField<string | null>(d, \"description\", \"description\") ?? \"—\")}</td>\n                                        <td>\n                                            {isBuffer ? (\n                                                <span className=\"doc-badge doc-badge--muted\">BUFFER</span>\n                                            ) : (\n                                                <span className=\"doc-badge doc-badge--ok\">BOOKED</span>\n                                            )}\n                                        </td>\n                                        <td>{ledgerNumber ?? \"—\"}</td>\n                                        <td className=\"doc-td-right\">{formatMoney(net)}</td>\n                                        <td className=\"doc-td-right\">{formatMoney(vat)}</td>\n                                        <td className=\"doc-td-right\">{formatMoney(gross)}</td>\n                                        <td>\n                                            {isBuffer ? (\n                                                canBook ? (\n                                                    <button\n                                                        className=\"doc-btn doc-btn--primary\"\n                                                        type=\"button\"\n                                                        onClick={() => handleBook(d.id)}\n                                                    >\n                                                        Księguj\n                                                    </button>\n                                                ) : (\n                                                    <button\n                                                        className=\"doc-btn\"\n                                                        type=\"button\"\n                                                        disabled\n                                                        title=\"Tylko kierownik może księgować dokumenty\"\n                                                    >\n                                                        —\n                                                    </button>\n                                                )\n                                            ) : (\n                                                <button className=\"doc-btn\" type=\"button\" disabled>\n                                                    ✓\n                                                </button>\n                                            )}\n                                        </td>\n                                    </tr>\n                                );\n                            })\n                        )}\n                        </tbody>\n                    </table>\n                </div>\n            )}\n\n            {createOpen && (\n                <DocumentModal\n                    onClose={() => setCreateOpen(false)}\n                    onSubmit={handleCreate}\n                />\n            )}\n        </div>\n    );\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAQ3D,OAASC,YAAY,CAAEC,cAAc,CAAEC,aAAa,KAAQ,oBAAoB,CAChF,OAASC,aAAa,KAAQ,iBAAiB,CAC/C,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAM7B,KAAM,CAAAC,YAAqD,CAAG,CAC1D,CAAEC,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,WAAY,CAAC,CACpC,CAAED,KAAK,CAAE,QAAQ,CAAEC,KAAK,CAAE,UAAW,CAAC,CACtC,CAAED,KAAK,CAAE,MAAM,CAAEC,KAAK,CAAE,OAAQ,CAAC,CACpC,CAED,KAAM,CAAAC,cAAuD,CAAG,CAC5D,CAAEF,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,WAAY,CAAC,CACpC,CAAED,KAAK,CAAE,QAAQ,CAAEC,KAAK,CAAE,OAAQ,CAAC,CACnC,CAAED,KAAK,CAAE,QAAQ,CAAEC,KAAK,CAAE,cAAe,CAAC,CAC7C,CAED,QAAS,CAAAE,YAAYA,CAACH,KAAqB,CAAU,CACjD,GAAI,CAACA,KAAK,CAAE,MAAO,GAAG,CAEtB,KAAM,CAAAI,CAAC,CAAG,GAAI,CAAAC,IAAI,CAACL,KAAK,CAAC,CACzB,GAAIM,MAAM,CAACC,KAAK,CAACH,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC,CAAE,MAAO,CAAAR,KAAK,CAE3C,KAAM,CAAAS,EAAE,CAAGC,MAAM,CAACN,CAAC,CAACO,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAC/C,KAAM,CAAAC,EAAE,CAAGH,MAAM,CAACN,CAAC,CAACU,QAAQ,CAAC,CAAC,CAAG,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CACpD,KAAM,CAAAG,IAAI,CAAGX,CAAC,CAACY,WAAW,CAAC,CAAC,CAE5B,SAAAC,MAAA,CAAUR,EAAE,MAAAQ,MAAA,CAAIJ,EAAE,MAAAI,MAAA,CAAIF,IAAI,EAC9B,CAEA,QAAS,CAAAG,cAAcA,CAACC,CAAU,CAAiB,CAC/C,GAAIA,CAAC,GAAK,IAAI,EAAIA,CAAC,GAAKC,SAAS,CAAE,MAAO,KAAI,CAC9C,GAAI,MAAO,CAAAD,CAAC,GAAK,QAAQ,CAAE,MAAO,CAAAb,MAAM,CAACe,QAAQ,CAACF,CAAC,CAAC,CAAGA,CAAC,CAAG,IAAI,CAC/D,GAAI,MAAO,CAAAA,CAAC,GAAK,QAAQ,CAAE,CACvB,KAAM,CAAAG,CAAC,CAAGH,CAAC,CAACI,IAAI,CAAC,CAAC,CAClB,GAAI,CAACD,CAAC,CAAE,MAAO,KAAI,CACnB,KAAM,CAAAE,CAAC,CAAGlB,MAAM,CAACgB,CAAC,CAAC,CACnB,MAAO,CAAAhB,MAAM,CAACe,QAAQ,CAACG,CAAC,CAAC,CAAGA,CAAC,CAAG,IAAI,CACxC,CACA,MAAO,KAAI,CACf,CAEA,QAAS,CAAAC,WAAWA,CAACN,CAAU,CAAU,CACrC,KAAM,CAAAK,CAAC,CAAGN,cAAc,CAACC,CAAC,CAAC,CAC3B,MAAO,CAAAK,CAAC,GAAK,IAAI,CAAG,GAAG,CAAGA,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,CAC1C,CAEA,QAAS,CAAAC,QAAQA,CAAUC,GAAQ,CAAEC,KAAa,CAAEC,KAAa,CAAiB,CAC9E,GAAI,CAACF,GAAG,CAAE,MAAO,CAAAR,SAAS,CAC1B,GAAIQ,GAAG,CAACC,KAAK,CAAC,GAAKT,SAAS,CAAE,MAAO,CAAAQ,GAAG,CAACC,KAAK,CAAC,CAC/C,GAAID,GAAG,CAACE,KAAK,CAAC,GAAKV,SAAS,CAAE,MAAO,CAAAQ,GAAG,CAACE,KAAK,CAAC,CAC/C,MAAO,CAAAV,SAAS,CACpB,CAEA,MAAO,MAAM,CAAAW,YAA6B,CAAGC,IAAA,EAAc,KAAAC,WAAA,IAAb,CAAEC,IAAK,CAAC,CAAAF,IAAA,CAClD,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAG9C,QAAQ,CAAgB,EAAE,CAAC,CACnD,KAAM,CAAC+C,OAAO,CAAEC,UAAU,CAAC,CAAGhD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiD,KAAK,CAAEC,QAAQ,CAAC,CAAGlD,QAAQ,CAAgB,IAAI,CAAC,CAEvD,KAAM,CAACmD,IAAI,CAAEC,OAAO,CAAC,CAAGpD,QAAQ,CAAS,KAAK,CAAC,CAC/C,KAAM,CAACqD,MAAM,CAAEC,SAAS,CAAC,CAAGtD,QAAQ,CAAS,KAAK,CAAC,CACnD,KAAM,CAACuD,CAAC,CAAEC,IAAI,CAAC,CAAGxD,QAAQ,CAAC,EAAE,CAAC,CAE9B,KAAM,CAACyD,UAAU,CAAEC,aAAa,CAAC,CAAG1D,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAA2D,OAAO,CACTf,IAAI,CAACgB,IAAI,GAAK,cAAc,EAAI,EAAAjB,WAAA,CAACC,IAAI,CAACiB,KAAK,UAAAlB,WAAA,UAAAA,WAAA,CAAI,EAAE,EAAEmB,QAAQ,CAAC,cAAc,CAAC,CAE/E,KAAM,CAAAC,eAAe,CAAI/B,CAAS,EAAK,CACnC,KAAM,CAAAgC,EAAE,CAAG,CAAChC,CAAC,SAADA,CAAC,UAADA,CAAC,CAAI,EAAE,EAAEiC,WAAW,CAAC,CAAC,CAClC,GAAID,EAAE,GAAK,KAAK,CAAE,MAAO,QAAQ,CACjC,GAAIA,EAAE,GAAK,QAAQ,CAAE,MAAO,QAAQ,CACpC,GAAIA,EAAE,GAAK,QAAQ,CAAE,MAAO,QAAQ,CACpC,MAAO,CAAAA,EAAE,CACb,CAAC,CAED,KAAM,CAAAE,IAAI,CAAG,KAAAA,CAAA,GAAY,CACrBlB,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACA,KAAM,CAAAiB,IAAI,CAAG,KAAM,CAAAhE,aAAa,CAAC,CAC7BgD,IAAI,CAAEA,IAAI,GAAK,KAAK,CAAGrB,SAAS,CAAIqB,IAAqB,CACzDE,MAAM,CAAEA,MAAM,GAAK,KAAK,CAAGvB,SAAS,CAAIuB,MAC5C,CAAC,CAAC,CACFP,OAAO,CAACsB,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,CAAGA,IAAI,CAAI,EAAU,CAAC,CACrD,CAAE,MAAOG,CAAC,CAAE,CACRC,OAAO,CAACtB,KAAK,CAACqB,CAAC,CAAC,CAChBpB,QAAQ,CAAC,kCAAkC,CAAC,CAChD,CAAC,OAAS,CACNF,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAEDlD,SAAS,CAAC,IAAM,CACZoE,IAAI,CAAC,CAAC,CACN;AACJ,CAAC,CAAE,CAACf,IAAI,CAAEE,MAAM,CAAC,CAAC,CAElB,KAAM,CAAAmB,QAAQ,CAAGzE,OAAO,CAAC,IAAM,CAC3B,KAAM,CAAA0E,EAAE,CAAGlB,CAAC,CAACtB,IAAI,CAAC,CAAC,CAACyC,WAAW,CAAC,CAAC,CACjC,GAAI,CAACD,EAAE,CAAE,MAAO,CAAA5B,IAAI,CAEpB,MAAO,CAAAA,IAAI,CAAC8B,MAAM,CAAE7D,CAAM,EAAK,KAAA8D,SAAA,CAC3B,KAAM,CAAAC,IAAI,CAAG,EAAAD,SAAA,CAACvC,QAAQ,CAAgBvB,CAAC,CAAE,aAAa,CAAE,aAAa,CAAC,UAAA8D,SAAA,UAAAA,SAAA,CAAI,EAAE,EAAEF,WAAW,CAAC,CAAC,CAC3F,MAAO,CAAAG,IAAI,CAACf,QAAQ,CAACW,EAAE,CAAC,CAC5B,CAAC,CAAC,CACN,CAAC,CAAE,CAAC5B,IAAI,CAAEU,CAAC,CAAC,CAAC,CAEb,KAAM,CAAAuB,UAAU,CAAG,KAAO,CAAAC,KAAa,EAAK,CACxC,GAAI,CAACpB,OAAO,CAAE,OAEd,GAAI,CACA,KAAM,CAAA1D,YAAY,CAAC8E,KAAK,CAAC,CACzB,KAAM,CAAAb,IAAI,CAAC,CAAC,CAChB,CAAE,MAAOI,CAAC,CAAE,CACRC,OAAO,CAACtB,KAAK,CAACqB,CAAC,CAAC,CAChBU,KAAK,CAAC,sCAAsC,CAAC,CACjD,CACJ,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,OAA8B,EAAK,CAC3D,KAAM,CAAAhF,cAAc,CAACgF,OAAO,CAAC,CAC7B,KAAM,CAAAhB,IAAI,CAAC,CAAC,CAChB,CAAC,CAED,mBACI1D,KAAA,QAAK2E,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrB5E,KAAA,QAAK2E,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB5E,KAAA,QAAA4E,QAAA,eACI9E,IAAA,OAAA8E,QAAA,CAAI,WAAS,CAAI,CAAC,cAClB9E,IAAA,MAAA8E,QAAA,CAAG,+FAGH,CAAG,CAAC,EACH,CAAC,cAEN5E,KAAA,QAAK2E,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB9E,IAAA,UACI6E,SAAS,CAAC,WAAW,CACrBE,WAAW,CAAC,uBAAkB,CAC9B3E,KAAK,CAAE6C,CAAE,CACT+B,QAAQ,CAAGhB,CAAC,EAAKd,IAAI,CAACc,CAAC,CAACiB,MAAM,CAAC7E,KAAK,CAAE,CACzC,CAAC,cAEFJ,IAAA,WACI6E,SAAS,CAAC,YAAY,CACtBzE,KAAK,CAAEyC,IAAK,CACZmC,QAAQ,CAAGhB,CAAC,EAAKlB,OAAO,CAACkB,CAAC,CAACiB,MAAM,CAAC7E,KAAK,CAAE,CAAA0E,QAAA,CAExC3E,YAAY,CAAC+E,GAAG,CAAEC,CAAC,eAChBnF,IAAA,WAAsBI,KAAK,CAAE+E,CAAC,CAAC/E,KAAM,CAAA0E,QAAA,CAChCK,CAAC,CAAC9E,KAAK,EADC8E,CAAC,CAAC/E,KAEP,CACX,CAAC,CACE,CAAC,cAETJ,IAAA,WACI6E,SAAS,CAAC,YAAY,CACtBzE,KAAK,CAAE2C,MAAO,CACdiC,QAAQ,CAAGhB,CAAC,EAAKhB,SAAS,CAACgB,CAAC,CAACiB,MAAM,CAAC7E,KAAK,CAAE,CAAA0E,QAAA,CAE1CxE,cAAc,CAAC4E,GAAG,CAAEC,CAAC,eAClBnF,IAAA,WAAsBI,KAAK,CAAE+E,CAAC,CAAC/E,KAAM,CAAA0E,QAAA,CAChCK,CAAC,CAAC9E,KAAK,EADC8E,CAAC,CAAC/E,KAEP,CACX,CAAC,CACE,CAAC,cAETJ,IAAA,WACI6E,SAAS,CAAC,wBAAwB,CAClChC,IAAI,CAAC,QAAQ,CACbuC,OAAO,CAAExB,IAAK,CACdyB,QAAQ,CAAE5C,OAAQ,CAAAqC,QAAA,CACrB,mBAED,CAAQ,CAAC,cAET9E,IAAA,WACI6E,SAAS,CAAC,0BAA0B,CACpChC,IAAI,CAAC,QAAQ,CACbuC,OAAO,CAAEA,CAAA,GAAMhC,aAAa,CAAC,IAAI,CAAE,CAAA0B,QAAA,CACtC,SAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CAELrC,OAAO,eAAIzC,IAAA,QAAK6E,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,sBAAU,CAAK,CAAC,CACrDnC,KAAK,eAAI3C,IAAA,QAAK6E,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEnC,KAAK,CAAM,CAAC,CAEjD,CAACF,OAAO,EAAI,CAACE,KAAK,eACf3C,IAAA,QAAK6E,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC1B5E,KAAA,UAAO2E,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9E,IAAA,UAAA8E,QAAA,cACA5E,KAAA,OAAA4E,QAAA,eACI9E,IAAA,OAAA8E,QAAA,CAAI,IAAE,CAAI,CAAC,cACX9E,IAAA,OAAA8E,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB9E,IAAA,OAAA8E,QAAA,CAAI,KAAG,CAAI,CAAC,cACZ9E,IAAA,OAAA8E,QAAA,CAAI,MAAI,CAAI,CAAC,cACb9E,IAAA,OAAA8E,QAAA,CAAI,QAAM,CAAI,CAAC,cACf9E,IAAA,OAAA8E,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB9E,IAAA,OAAI6E,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cACvC9E,IAAA,OAAI6E,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,KAAG,CAAI,CAAC,cACrC9E,IAAA,OAAI6E,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACxC9E,IAAA,OAAA8E,QAAA,CAAI,OAAK,CAAI,CAAC,EACd,CAAC,CACE,CAAC,cAER9E,IAAA,UAAA8E,QAAA,CACCZ,QAAQ,CAACoB,MAAM,GAAK,CAAC,cAClBtF,IAAA,OAAA8E,QAAA,cACI9E,IAAA,OAAIuF,OAAO,CAAE,EAAG,CAACV,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,8CAEvC,CAAI,CAAC,CACL,CAAC,CAELZ,QAAQ,CAACgB,GAAG,CAAE1E,CAAM,EAAK,KAAAgF,UAAA,CAAAC,UAAA,CAAAC,UAAA,CACrB,KAAM,CAAAC,EAAE,CAAGlC,eAAe,EAAA+B,UAAA,CAACzD,QAAQ,CAASvB,CAAC,CAAE,QAAQ,CAAE,QAAQ,CAAC,UAAAgF,UAAA,UAAAA,UAAA,CAAI,EAAE,CAAC,CACzE,KAAM,CAAAI,QAAQ,CAAGD,EAAE,GAAK,QAAQ,CAEhC,KAAM,CAAAE,SAAS,CAAG9D,QAAQ,CAAgBvB,CAAC,CAAE,WAAW,CAAE,YAAY,CAAC,CACvE,KAAM,CAAAsF,YAAY,CAAG/D,QAAQ,CAAyBvB,CAAC,CAAE,cAAc,CAAE,eAAe,CAAC,CAEzF,KAAM,CAAAuF,GAAG,CAAGhE,QAAQ,CAACvB,CAAC,CAAE,WAAW,CAAE,YAAY,CAAC,CAClD,KAAM,CAAAwF,GAAG,CAAGjE,QAAQ,CAACvB,CAAC,CAAE,WAAW,CAAE,YAAY,CAAC,CAClD,KAAM,CAAAyF,KAAK,CAAGlE,QAAQ,CAACvB,CAAC,CAAE,aAAa,CAAE,cAAc,CAAC,CAExD,KAAM,CAAA0F,OAAO,EAAAT,UAAA,CAAG1D,QAAQ,CAASvB,CAAC,CAAE,MAAM,CAAE,MAAM,CAAC,UAAAiF,UAAA,UAAAA,UAAA,CAAI,EAAE,CAEzD,mBACIvF,KAAA,OAAA4E,QAAA,eACI9E,IAAA,OAAA8E,QAAA,CAAKtE,CAAC,CAAC2F,EAAE,CAAK,CAAC,cACfnG,IAAA,OAAA8E,QAAA,CAAKvE,YAAY,CAACsF,SAAS,CAAC,CAAK,CAAC,cAClC7F,IAAA,OAAA8E,QAAA,CACKoB,OAAO,GAAK,QAAQ,CACf,UAAU,CACVA,OAAO,GAAK,MAAM,CACd,OAAO,CACPA,OAAO,CACjB,CAAC,cACLlG,IAAA,OAAA8E,QAAA,EAAAY,UAAA,CAAM3D,QAAQ,CAAgBvB,CAAC,CAAE,aAAa,CAAE,aAAa,CAAC,UAAAkF,UAAA,UAAAA,UAAA,CAAI,GAAG,CAAM,CAAC,cAC5E1F,IAAA,OAAA8E,QAAA,CACKc,QAAQ,cACL5F,IAAA,SAAM6E,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAE1D9E,IAAA,SAAM6E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,QAAM,CAAM,CACzD,CACD,CAAC,cACL9E,IAAA,OAAA8E,QAAA,CAAKgB,YAAY,SAAZA,YAAY,UAAZA,YAAY,CAAI,GAAG,CAAK,CAAC,cAC9B9F,IAAA,OAAI6E,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEjD,WAAW,CAACkE,GAAG,CAAC,CAAK,CAAC,cACpD/F,IAAA,OAAI6E,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEjD,WAAW,CAACmE,GAAG,CAAC,CAAK,CAAC,cACpDhG,IAAA,OAAI6E,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEjD,WAAW,CAACoE,KAAK,CAAC,CAAK,CAAC,cACtDjG,IAAA,OAAA8E,QAAA,CACKc,QAAQ,CACLvC,OAAO,cACHrD,IAAA,WACI6E,SAAS,CAAC,0BAA0B,CACpChC,IAAI,CAAC,QAAQ,CACbuC,OAAO,CAAEA,CAAA,GAAMZ,UAAU,CAAChE,CAAC,CAAC2F,EAAE,CAAE,CAAArB,QAAA,CACnC,cAED,CAAQ,CAAC,cAET9E,IAAA,WACI6E,SAAS,CAAC,SAAS,CACnBhC,IAAI,CAAC,QAAQ,CACbwC,QAAQ,MACRe,KAAK,CAAC,yDAA0C,CAAAtB,QAAA,CACnD,QAED,CAAQ,CACX,cAED9E,IAAA,WAAQ6E,SAAS,CAAC,SAAS,CAAChC,IAAI,CAAC,QAAQ,CAACwC,QAAQ,MAAAP,QAAA,CAAC,QAEnD,CAAQ,CACX,CACD,CAAC,GA/CAtE,CAAC,CAAC2F,EAgDP,CAAC,CAEb,CAAC,CACJ,CACM,CAAC,EACL,CAAC,CACP,CACR,CAEAhD,UAAU,eACPnD,IAAA,CAACF,aAAa,EACVuG,OAAO,CAAEA,CAAA,GAAMjD,aAAa,CAAC,KAAK,CAAE,CACpCkD,QAAQ,CAAE3B,YAAa,CAC1B,CACJ,EACA,CAAC,CAEd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}