{"ast":null,"code":"import React,{useEffect,useMemo,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{UserEditModal}from\"./UserEditModal\";import{getCompany,listCompanyUsers,updateCompany}from\"../companyService\";import{createAdminUser,deleteAdminUser,patchAdminUser,updateAdminUserFull}from\"../userService\";import{CompanyModal}from\"./CompanyModal\";import{UserModal}from\"./UserModal\";import{ConfirmDialog}from\"./ConfirmDialog\";import\"./_companyDetails.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CompanyDetails=_ref=>{var _company$taxId,_company$address,_user$email,_role,_ref2,_firstName,_ref3,_lastName,_editTargetUser$email,_editTargetUser$role,_editTargetUser$first,_editTargetUser$lastN;let{user,onLogout}=_ref;const{id}=useParams();const navigate=useNavigate();const companyId=Number(id);const[company,setCompany]=useState(null);const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[createUserOpen,setCreateUserOpen]=useState(false);const[deleteTargetUser,setDeleteTargetUser]=useState(null);const[editOpen,setEditOpen]=useState(false);const[editMeOpen,setEditMeOpen]=useState(false);const[editUserOpen,setEditUserOpen]=useState(false);const[editTargetUser,setEditTargetUser]=useState(null);const[busyUserId,setBusyUserId]=useState(null);const isSystemAdmin=user.role===\"ROLE_SYSTEM_ADMIN\";const canLoad=useMemo(()=>Number.isFinite(companyId)&&companyId>0,[companyId]);const load=async()=>{if(!canLoad){setError(\"Niepoprawny identyfikator firmy.\");setLoading(false);return;}setLoading(true);setError(null);try{const[c,u]=await Promise.all([getCompany(companyId),listCompanyUsers(companyId)]);setCompany(c);setUsers(u);}catch(e){console.error(e);setError(\"Nie udało się pobrać danych firmy.\");}finally{setLoading(false);}};useEffect(()=>{load();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[companyId]);const handleEdit=async payload=>{if(!company)return;setError(null);try{await updateCompany(company.id,payload);setEditOpen(false);await load();}catch(e){console.error(e);setError(\"Nie udało się zapisać zmian firmy.\");}};const handleCreateUser=async payload=>{setError(null);try{await createAdminUser(payload);setCreateUserOpen(false);await load();}catch(e){console.error(e);setError(\"Nie udało się utworzyć użytkownika.\");}};const handleChangeUserRole=async(userId,role)=>{setError(null);setBusyUserId(userId);try{await patchAdminUser(userId,{role});await load();}catch(e){console.error(e);setError(\"Nie udało się zmienić roli użytkownika.\");}finally{setBusyUserId(null);}};const handleDeleteUser=async()=>{if(!deleteTargetUser)return;setError(null);setBusyUserId(deleteTargetUser.id);try{await deleteAdminUser(deleteTargetUser.id);setDeleteTargetUser(null);await load();}catch(e){console.error(e);setError(\"Nie udało się usunąć użytkownika.\");}finally{setBusyUserId(null);}};const handleEditMeSubmit=async p=>{var _p$password;await updateAdminUserFull(user.id,{email:p.email,role:String(user.role)===\"ROLE_SYSTEM_ADMIN\"?p.role:undefined,firstName:p.firstName,lastName:p.lastName,password:(_p$password=p.password)!==null&&_p$password!==void 0?_p$password:undefined});await load();};const handleEditAnyUserSubmit=async(userId,p)=>{setError(null);setBusyUserId(userId);try{var _p$password2;await updateAdminUserFull(userId,{email:p.email,role:p.role,firstName:p.firstName,lastName:p.lastName,password:(_p$password2=p.password)!==null&&_p$password2!==void 0?_p$password2:undefined});setEditUserOpen(false);setEditTargetUser(null);await load();}catch(e){console.error(e);setError(\"Nie udało się zapisać zmian użytkownika.\");}finally{setBusyUserId(null);}};if(!isSystemAdmin){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:24},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Brak uprawnie\\u0144\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Ten widok jest dost\\u0119pny tylko dla administratora systemu.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),children:\"Wr\\xF3\\u0107\"})]});}const avatarLetter=typeof(user===null||user===void 0?void 0:user.email)===\"string\"&&user.email.length>0?user.email.charAt(0).toUpperCase():\"?\";return/*#__PURE__*/_jsx(\"div\",{className:\"cd-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cd-shell\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"cd-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cd-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cd-back\",onClick:()=>navigate(\"/\"),children:\"\\u2190 Wr\\xF3\\u0107\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"cd-title\",children:\"Szczeg\\xF3\\u0142y firmy\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cd-subtitle\",children:\"Zarz\\u0105dzanie firm\\u0105 i u\\u017Cytkownikami\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cd-right\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"cd-user\",onClick:()=>setEditMeOpen(true),title:\"Edytuj swoje dane\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cd-avatar\",children:avatarLetter}),/*#__PURE__*/_jsxs(\"div\",{className:\"cd-userinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cd-email\",children:user.email}),/*#__PURE__*/_jsx(\"div\",{className:\"cd-role\",children:String(user.role).replace(\"ROLE_\",\"\")})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cd-logout\",onClick:onLogout,children:\"Wyloguj\"})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"cd-card\",children:\"\\u0141adowanie\\u2026\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"cd-card cd-card--error\",children:error}),!loading&&!error&&company&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cd-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cd-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cd-cardhead\",children:[/*#__PURE__*/_jsx(\"h2\",{children:company.name}),/*#__PURE__*/_jsx(\"button\",{className:\"cd-btn\",onClick:()=>setEditOpen(true),children:\"Edytuj dane\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cd-kv\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cd-kvrow\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"NIP\"}),/*#__PURE__*/_jsx(\"strong\",{children:(_company$taxId=company.taxId)!==null&&_company$taxId!==void 0?_company$taxId:\"—\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cd-kvrow\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Adres\"}),/*#__PURE__*/_jsx(\"strong\",{children:(_company$address=company.address)!==null&&_company$address!==void 0?_company$address:\"—\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cd-kvrow\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"strong\",{children:company.active?\"aktywna\":\"nieaktywna\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cd-kvrow\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status VAT\"}),/*#__PURE__*/_jsx(\"strong\",{children:company.vatActive?\"czynna\":\"nieczynna\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cd-card\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",gap:12},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:\"U\\u017Cytkownicy firmy\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cd-btn\",onClick:()=>setCreateUserOpen(true),children:\"+ Dodaj u\\u017Cytkownika\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cd-tablewrap\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"cd-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Imi\\u0119\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nazwisko\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rola\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Akcje\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:6,className:\"cd-empty\",children:\"Brak u\\u017Cytkownik\\xF3w przypisanych do tej firmy.\"})}):users.map(u=>{var _u$firstName,_u$lastName;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:u.id}),/*#__PURE__*/_jsx(\"td\",{children:u.email}),/*#__PURE__*/_jsx(\"td\",{children:(_u$firstName=u.firstName)!==null&&_u$firstName!==void 0?_u$firstName:\"—\"}),/*#__PURE__*/_jsx(\"td\",{children:(_u$lastName=u.lastName)!==null&&_u$lastName!==void 0?_u$lastName:\"—\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"cd-select\",value:u.role,disabled:busyUserId===u.id,onChange:e=>handleChangeUserRole(u.id,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"ROLE_EMPLOYEE\",children:\"Pracownik\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ROLE_MANAGER\",children:\"Kierownik\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ROLE_COMPANY_ADMIN\",children:\"Admin firmy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ROLE_SYSTEM_ADMIN\",children:\"Admin systemu\"})]})}),/*#__PURE__*/_jsxs(\"td\",{style:{whiteSpace:\"nowrap\"},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cd-btn cd-btn--edit\",disabled:busyUserId===u.id,onClick:()=>{setEditTargetUser(u);setEditUserOpen(true);},children:\"Edytuj\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cd-btn cd-btn--danger\",disabled:busyUserId===u.id,onClick:()=>setDeleteTargetUser(u),style:{marginLeft:8},children:\"Usu\\u0144\"})]})]},u.id);})})]})})]})]}),editOpen&&/*#__PURE__*/_jsx(CompanyModal,{mode:\"edit\",company:company,onClose:()=>setEditOpen(false),onSubmit:handleEdit}),createUserOpen&&/*#__PURE__*/_jsx(UserModal,{companyId:company.id,onClose:()=>setCreateUserOpen(false),onSubmit:handleCreateUser}),deleteTargetUser&&/*#__PURE__*/_jsx(ConfirmDialog,{title:\"Usun\\u0105\\u0107 u\\u017Cytkownika?\",description:\"Ta operacja jest nieodwracalna. U\\u017Cytkownik: \".concat(deleteTargetUser.email),confirmText:\"Usu\\u0144\",danger:true,onCancel:()=>setDeleteTargetUser(null),onConfirm:handleDeleteUser})]}),editMeOpen&&/*#__PURE__*/_jsx(UserEditModal,{title:\"Edytuj swoje dane\",initial:{email:(_user$email=user.email)!==null&&_user$email!==void 0?_user$email:\"\",role:(_role=user.role)!==null&&_role!==void 0?_role:\"ROLE_SYSTEM_ADMIN\",firstName:(_ref2=(_firstName=user.firstName)!==null&&_firstName!==void 0?_firstName:user.first_name)!==null&&_ref2!==void 0?_ref2:null,lastName:(_ref3=(_lastName=user.lastName)!==null&&_lastName!==void 0?_lastName:user.last_name)!==null&&_ref3!==void 0?_ref3:null},canEditRole:String(user.role)===\"ROLE_SYSTEM_ADMIN\",onClose:()=>setEditMeOpen(false),onSubmit:async p=>{await handleEditMeSubmit(p);setEditMeOpen(false);}}),editUserOpen&&editTargetUser&&/*#__PURE__*/_jsx(UserEditModal,{title:\"Edytuj u\\u017Cytkownika: \".concat(editTargetUser.email),initial:{email:(_editTargetUser$email=editTargetUser.email)!==null&&_editTargetUser$email!==void 0?_editTargetUser$email:\"\",role:(_editTargetUser$role=editTargetUser.role)!==null&&_editTargetUser$role!==void 0?_editTargetUser$role:\"ROLE_EMPLOYEE\",firstName:(_editTargetUser$first=editTargetUser.firstName)!==null&&_editTargetUser$first!==void 0?_editTargetUser$first:null,lastName:(_editTargetUser$lastN=editTargetUser.lastName)!==null&&_editTargetUser$lastN!==void 0?_editTargetUser$lastN:null},canEditRole:true,onClose:()=>{setEditUserOpen(false);setEditTargetUser(null);},onSubmit:async p=>{await handleEditAnyUserSubmit(editTargetUser.id,p);}})]})});};export default CompanyDetails;","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","useParams","UserEditModal","getCompany","listCompanyUsers","updateCompany","createAdminUser","deleteAdminUser","patchAdminUser","updateAdminUserFull","CompanyModal","UserModal","ConfirmDialog","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CompanyDetails","_ref","_company$taxId","_company$address","_user$email","_role","_ref2","_firstName","_ref3","_lastName","_editTargetUser$email","_editTargetUser$role","_editTargetUser$first","_editTargetUser$lastN","user","onLogout","id","navigate","companyId","Number","company","setCompany","users","setUsers","loading","setLoading","error","setError","createUserOpen","setCreateUserOpen","deleteTargetUser","setDeleteTargetUser","editOpen","setEditOpen","editMeOpen","setEditMeOpen","editUserOpen","setEditUserOpen","editTargetUser","setEditTargetUser","busyUserId","setBusyUserId","isSystemAdmin","role","canLoad","isFinite","load","c","u","Promise","all","e","console","handleEdit","payload","handleCreateUser","handleChangeUserRole","userId","handleDeleteUser","handleEditMeSubmit","p","_p$password","email","String","undefined","firstName","lastName","password","handleEditAnyUserSubmit","_p$password2","style","padding","children","onClick","avatarLetter","length","charAt","toUpperCase","className","type","title","replace","name","taxId","address","active","vatActive","display","justifyContent","alignItems","gap","margin","colSpan","map","_u$firstName","_u$lastName","value","disabled","onChange","target","whiteSpace","marginLeft","mode","onClose","onSubmit","description","concat","confirmText","danger","onCancel","onConfirm","initial","first_name","last_name","canEditRole"],"sources":["/var/www/web-szyper/src/components/CompanyDetails.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { UserEditModal } from \"./UserEditModal\";\n\nimport type { Company, CompanyUpdateRequest, CompanyUserRow, User, Role } from \"../types\";\n\nimport { getCompany, listCompanyUsers, updateCompany } from \"../companyService\";\nimport {\n    createAdminUser,\n    deleteAdminUser,\n    patchAdminUser,\n    updateAdminUserFull,\n} from \"../userService\";\n\nimport { CompanyModal } from \"./CompanyModal\";\nimport { UserModal } from \"./UserModal\";\nimport { ConfirmDialog } from \"./ConfirmDialog\";\n\nimport \"./_companyDetails.css\";\n\ninterface Props {\n    user: User;\n    onLogout: () => void;\n}\n\ntype EditUserPayload = {\n    email: string;\n    role: string;\n    firstName: string | null;\n    lastName: string | null;\n    password: string | null;\n};\n\nconst CompanyDetails: React.FC<Props> = ({ user, onLogout }) => {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const companyId = Number(id);\n\n    const [company, setCompany] = useState<Company | null>(null);\n    const [users, setUsers] = useState<CompanyUserRow[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    const [createUserOpen, setCreateUserOpen] = useState(false);\n    const [deleteTargetUser, setDeleteTargetUser] = useState<CompanyUserRow | null>(null);\n\n    const [editOpen, setEditOpen] = useState(false);\n\n    const [editMeOpen, setEditMeOpen] = useState(false);\n\n    const [editUserOpen, setEditUserOpen] = useState(false);\n    const [editTargetUser, setEditTargetUser] = useState<CompanyUserRow | null>(null);\n\n    const [busyUserId, setBusyUserId] = useState<number | null>(null);\n\n    const isSystemAdmin = user.role === \"ROLE_SYSTEM_ADMIN\";\n    const canLoad = useMemo(() => Number.isFinite(companyId) && companyId > 0, [companyId]);\n\n    const load = async () => {\n        if (!canLoad) {\n            setError(\"Niepoprawny identyfikator firmy.\");\n            setLoading(false);\n            return;\n        }\n\n        setLoading(true);\n        setError(null);\n\n        try {\n            const [c, u] = await Promise.all([getCompany(companyId), listCompanyUsers(companyId)]);\n            setCompany(c);\n            setUsers(u);\n        } catch (e) {\n            console.error(e);\n            setError(\"Nie udało się pobrać danych firmy.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        load();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [companyId]);\n\n    const handleEdit = async (payload: CompanyUpdateRequest) => {\n        if (!company) return;\n\n        setError(null);\n        try {\n            await updateCompany(company.id, payload);\n            setEditOpen(false);\n            await load();\n        } catch (e) {\n            console.error(e);\n            setError(\"Nie udało się zapisać zmian firmy.\");\n        }\n    };\n\n    const handleCreateUser = async (payload: any) => {\n        setError(null);\n        try {\n            await createAdminUser(payload);\n            setCreateUserOpen(false);\n            await load();\n        } catch (e) {\n            console.error(e);\n            setError(\"Nie udało się utworzyć użytkownika.\");\n        }\n    };\n\n    const handleChangeUserRole = async (userId: number, role: Role | string) => {\n        setError(null);\n        setBusyUserId(userId);\n\n        try {\n            await patchAdminUser(userId, { role });\n            await load();\n        } catch (e) {\n            console.error(e);\n            setError(\"Nie udało się zmienić roli użytkownika.\");\n        } finally {\n            setBusyUserId(null);\n        }\n    };\n\n    const handleDeleteUser = async () => {\n        if (!deleteTargetUser) return;\n\n        setError(null);\n        setBusyUserId(deleteTargetUser.id);\n\n        try {\n            await deleteAdminUser(deleteTargetUser.id);\n            setDeleteTargetUser(null);\n            await load();\n        } catch (e) {\n            console.error(e);\n            setError(\"Nie udało się usunąć użytkownika.\");\n        } finally {\n            setBusyUserId(null);\n        }\n    };\n\n    const handleEditMeSubmit = async (p: EditUserPayload) => {\n        await updateAdminUserFull(user.id, {\n            email: p.email,\n            role: String(user.role) === \"ROLE_SYSTEM_ADMIN\" ? p.role : undefined,\n            firstName: p.firstName,\n            lastName: p.lastName,\n            password: p.password ?? undefined,\n        });\n\n        await load();\n    };\n\n    const handleEditAnyUserSubmit = async (userId: number, p: EditUserPayload) => {\n        setError(null);\n        setBusyUserId(userId);\n\n        try {\n            await updateAdminUserFull(userId, {\n                email: p.email,\n                role: p.role,\n                firstName: p.firstName,\n                lastName: p.lastName,\n                password: p.password ?? undefined,\n            });\n\n            setEditUserOpen(false);\n            setEditTargetUser(null);\n\n            await load();\n        } catch (e) {\n            console.error(e);\n            setError(\"Nie udało się zapisać zmian użytkownika.\");\n        } finally {\n            setBusyUserId(null);\n        }\n    };\n\n    if (!isSystemAdmin) {\n        return (\n            <div style={{ padding: 24 }}>\n                <h2>Brak uprawnień</h2>\n                <p>Ten widok jest dostępny tylko dla administratora systemu.</p>\n                <button onClick={() => navigate(\"/\")}>Wróć</button>\n            </div>\n        );\n    }\n\n    const avatarLetter =\n        typeof user?.email === \"string\" && user.email.length > 0 ? user.email.charAt(0).toUpperCase() : \"?\";\n\n    return (\n        <div className=\"cd-page\">\n            <div className=\"cd-shell\">\n                <header className=\"cd-header\">\n                    <div className=\"cd-left\">\n                        <button className=\"cd-back\" onClick={() => navigate(\"/\")}>\n                            ← Wróć\n                        </button>\n                        <div>\n                            <div className=\"cd-title\">Szczegóły firmy</div>\n                            <div className=\"cd-subtitle\">Zarządzanie firmą i użytkownikami</div>\n                        </div>\n                    </div>\n\n                    <div className=\"cd-right\">\n                        <button\n                            type=\"button\"\n                            className=\"cd-user\"\n                            onClick={() => setEditMeOpen(true)}\n                            title=\"Edytuj swoje dane\"\n                        >\n                            <div className=\"cd-avatar\">{avatarLetter}</div>\n                            <div className=\"cd-userinfo\">\n                                <div className=\"cd-email\">{user.email}</div>\n                                <div className=\"cd-role\">{String(user.role).replace(\"ROLE_\", \"\")}</div>\n                            </div>\n                        </button>\n\n                        <button type=\"button\" className=\"cd-logout\" onClick={onLogout}>\n                            Wyloguj\n                        </button>\n                    </div>\n                </header>\n\n                {loading && <div className=\"cd-card\">Ładowanie…</div>}\n                {error && <div className=\"cd-card cd-card--error\">{error}</div>}\n\n                {!loading && !error && company && (\n                    <>\n                        <div className=\"cd-grid\">\n                            <div className=\"cd-card\">\n                                <div className=\"cd-cardhead\">\n                                    <h2>{company.name}</h2>\n                                    <button className=\"cd-btn\" onClick={() => setEditOpen(true)}>\n                                        Edytuj dane\n                                    </button>\n                                </div>\n\n                                <div className=\"cd-kv\">\n                                    <div className=\"cd-kvrow\">\n                                        <span>NIP</span>\n                                        <strong>{company.taxId ?? \"—\"}</strong>\n                                    </div>\n                                    <div className=\"cd-kvrow\">\n                                        <span>Adres</span>\n                                        <strong>{company.address ?? \"—\"}</strong>\n                                    </div>\n                                    <div className=\"cd-kvrow\">\n                                        <span>Status</span>\n                                        <strong>{company.active ? \"aktywna\" : \"nieaktywna\"}</strong>\n                                    </div>\n                                    <div className=\"cd-kvrow\">\n                                        <span>Status VAT</span>\n                                        <strong>{company.vatActive ? \"czynna\" : \"nieczynna\"}</strong>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"cd-card\">\n                                <div\n                                    style={{\n                                        display: \"flex\",\n                                        justifyContent: \"space-between\",\n                                        alignItems: \"center\",\n                                        gap: 12,\n                                    }}\n                                >\n                                    <h3 style={{ margin: 0 }}>Użytkownicy firmy</h3>\n                                    <button className=\"cd-btn\" onClick={() => setCreateUserOpen(true)}>\n                                        + Dodaj użytkownika\n                                    </button>\n                                </div>\n\n                                <div className=\"cd-tablewrap\">\n                                    <table className=\"cd-table\">\n                                        <thead>\n                                        <tr>\n                                            <th>ID</th>\n                                            <th>Email</th>\n                                            <th>Imię</th>\n                                            <th>Nazwisko</th>\n                                            <th>Rola</th>\n                                            <th>Akcje</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        {users.length === 0 ? (\n                                            <tr>\n                                                <td colSpan={6} className=\"cd-empty\">\n                                                    Brak użytkowników przypisanych do tej firmy.\n                                                </td>\n                                            </tr>\n                                        ) : (\n                                            users.map((u) => (\n                                                <tr key={u.id}>\n                                                    <td>{u.id}</td>\n                                                    <td>{u.email}</td>\n                                                    <td>{u.firstName ?? \"—\"}</td>\n                                                    <td>{u.lastName ?? \"—\"}</td>\n\n                                                    <td>\n                                                        <select\n                                                            className=\"cd-select\"\n                                                            value={u.role}\n                                                            disabled={busyUserId === u.id}\n                                                            onChange={(e) => handleChangeUserRole(u.id, e.target.value)}\n                                                        >\n                                                            <option value=\"ROLE_EMPLOYEE\">Pracownik</option>\n                                                            <option value=\"ROLE_MANAGER\">Kierownik</option>\n                                                            <option value=\"ROLE_COMPANY_ADMIN\">Admin firmy</option>\n                                                            <option value=\"ROLE_SYSTEM_ADMIN\">Admin systemu</option>\n                                                        </select>\n                                                    </td>\n\n                                                    <td style={{ whiteSpace: \"nowrap\" }}>\n                                                        <button\n                                                            type=\"button\"\n                                                            className=\"cd-btn cd-btn--edit\"\n                                                            disabled={busyUserId === u.id}\n                                                            onClick={() => {\n                                                                setEditTargetUser(u);\n                                                                setEditUserOpen(true);\n                                                            }}\n                                                        >\n                                                            Edytuj\n                                                        </button>\n\n                                                        <button\n                                                            type=\"button\"\n                                                            className=\"cd-btn cd-btn--danger\"\n                                                            disabled={busyUserId === u.id}\n                                                            onClick={() => setDeleteTargetUser(u)}\n                                                            style={{ marginLeft: 8 }}\n                                                        >\n                                                            Usuń\n                                                        </button>\n                                                    </td>\n                                                </tr>\n                                            ))\n                                        )}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n\n                        {editOpen && (\n                            <CompanyModal\n                                mode=\"edit\"\n                                company={company}\n                                onClose={() => setEditOpen(false)}\n                                onSubmit={handleEdit}\n                            />\n                        )}\n\n                        {createUserOpen && (\n                            <UserModal\n                                companyId={company.id}\n                                onClose={() => setCreateUserOpen(false)}\n                                onSubmit={handleCreateUser}\n                            />\n                        )}\n\n                        {deleteTargetUser && (\n                            <ConfirmDialog\n                                title=\"Usunąć użytkownika?\"\n                                description={`Ta operacja jest nieodwracalna. Użytkownik: ${deleteTargetUser.email}`}\n                                confirmText=\"Usuń\"\n                                danger\n                                onCancel={() => setDeleteTargetUser(null)}\n                                onConfirm={handleDeleteUser}\n                            />\n                        )}\n                    </>\n                )}\n\n                {editMeOpen && (\n                    <UserEditModal\n                        title=\"Edytuj swoje dane\"\n                        initial={{\n                            email: user.email ?? \"\",\n                            role: (user as any).role ?? \"ROLE_SYSTEM_ADMIN\",\n                            firstName: (user as any).firstName ?? (user as any).first_name ?? null,\n                            lastName: (user as any).lastName ?? (user as any).last_name ?? null,\n                        }}\n                        canEditRole={String(user.role) === \"ROLE_SYSTEM_ADMIN\"}\n                        onClose={() => setEditMeOpen(false)}\n                        onSubmit={async (p) => {\n                            await handleEditMeSubmit(p);\n                            setEditMeOpen(false);\n                        }}\n                    />\n                )}\n\n                {editUserOpen && editTargetUser && (\n                    <UserEditModal\n                        title={`Edytuj użytkownika: ${editTargetUser.email}`}\n                        initial={{\n                            email: editTargetUser.email ?? \"\",\n                            role: editTargetUser.role ?? \"ROLE_EMPLOYEE\",\n                            firstName: editTargetUser.firstName ?? null,\n                            lastName: editTargetUser.lastName ?? null,\n                        }}\n                        canEditRole={true}\n                        onClose={() => {\n                            setEditUserOpen(false);\n                            setEditTargetUser(null);\n                        }}\n                        onSubmit={async (p) => {\n                            await handleEditAnyUserSubmit(editTargetUser.id, p);\n                        }}\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default CompanyDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}