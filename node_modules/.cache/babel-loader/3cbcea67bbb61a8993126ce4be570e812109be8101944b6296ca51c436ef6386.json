{"ast":null,"code":"import React,{useEffect,useMemo,useRef,useState}from\"react\";import{listCategories}from\"../categoryService\";import{listContractors}from\"../contractorService\";import\"./_documentModal.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TYPE_OPTIONS=[{value:\"INCOME\",label:\"Przychód\"},{value:\"COST\",label:\"Koszt\"}];function todayISO(){const d=new Date();const yyyy=d.getFullYear();const mm=String(d.getMonth()+1).padStart(2,\"0\");const dd=String(d.getDate()).padStart(2,\"0\");return\"\".concat(yyyy,\"-\").concat(mm,\"-\").concat(dd);}function toMoneyString(n){if(!Number.isFinite(n))return\"0.00\";return n.toFixed(2);}function parseNumberSafe(s){const normalized=(s!==null&&s!==void 0?s:\"\").replace(\",\",\".\");const n=Number(normalized);return Number.isFinite(n)?n:null;}function getApiMessage(err){var _ref,_err$data$message,_err$data,_err$response,_err$response$data;const msg=(_ref=(_err$data$message=err===null||err===void 0?void 0:(_err$data=err.data)===null||_err$data===void 0?void 0:_err$data.message)!==null&&_err$data$message!==void 0?_err$data$message:err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)!==null&&_ref!==void 0?_ref:err===null||err===void 0?void 0:err.message;return typeof msg===\"string\"&&msg.trim()?msg:null;}export const DocumentModal=_ref2=>{let{onClose,onSubmit}=_ref2;const[invoiceNumber,setInvoiceNumber]=useState(\"\");const[type,setType]=useState(\"COST\");const[issueDate,setIssueDate]=useState(todayISO());const[eventDate,setEventDate]=useState(todayISO());const[description,setDescription]=useState(\"\");const[netAmount,setNetAmount]=useState(\"0.00\");const[vatAmount,setVatAmount]=useState(\"0.00\");const[grossAmount,setGrossAmount]=useState(\"0.00\");const[categories,setCategories]=useState([]);const[contractors,setContractors]=useState([]);const[categoryId,setCategoryId]=useState(null);const[contractorId,setContractorId]=useState(null);const[contractorQuery,setContractorQuery]=useState(\"\");const[contractorOpen,setContractorOpen]=useState(false);const blurTimerRef=useRef(null);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[error,setError]=useState(null);useEffect(()=>{const onKeyDown=e=>{if(e.key===\"Escape\")onClose();};window.addEventListener(\"keydown\",onKeyDown);return()=>window.removeEventListener(\"keydown\",onKeyDown);},[onClose]);useEffect(()=>{const n=parseNumberSafe(netAmount);const vatPct=parseNumberSafe(vatAmount);if(n===null||vatPct===null)return;const gross=n*(1+vatPct/100);setGrossAmount(toMoneyString(gross));},[netAmount,vatAmount]);useEffect(()=>{let alive=true;(async()=>{setLoading(true);setError(null);try{const[cats,cons]=await Promise.all([listCategories({type}),listContractors()]);if(!alive)return;setCategories(cats);setContractors(cons);if(!cats.some(c=>c.id===categoryId))setCategoryId(null);if(contractorId!==null&&!cons.some(c=>c.id===contractorId)){setContractorId(null);setContractorQuery(\"\");}else if(contractorId!==null){const selected=cons.find(x=>x.id===contractorId);if(selected){setContractorQuery(\"\".concat(selected.name).concat(selected.taxId?\" (\".concat(selected.taxId,\")\"):\"\"));}}}catch(e){console.error(e);if(!alive)return;setError(\"Nie udało się pobrać kategorii/kontrahentów.\");}finally{if(!alive)return;setLoading(false);}})();return()=>{alive=false;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[type]);const numbersOk=useMemo(()=>{const n=parseNumberSafe(netAmount);const v=parseNumberSafe(vatAmount);return n!==null&&v!==null;},[netAmount,vatAmount]);const filteredContractors=useMemo(()=>{const q=contractorQuery.trim().toLowerCase();if(!q)return contractors;return contractors.filter(c=>{var _c$name,_c$taxId;const name=((_c$name=c.name)!==null&&_c$name!==void 0?_c$name:\"\").toLowerCase();const nip=((_c$taxId=c.taxId)!==null&&_c$taxId!==void 0?_c$taxId:\"\").toLowerCase();return name.includes(q)||nip.includes(q);});},[contractors,contractorQuery]);const clearBlurTimer=()=>{if(blurTimerRef.current){window.clearTimeout(blurTimerRef.current);blurTimerRef.current=null;}};const handleSubmit=async e=>{e.preventDefault();setError(null);if(!invoiceNumber.trim()){setError(\"Numer faktury jest wymagany.\");return;}if(!numbersOk){setError(\"Kwoty (Netto i VAT) muszą być liczbami.\");return;}const n=parseNumberSafe(netAmount);const vatPct=parseNumberSafe(vatAmount);const vatValue=n*(vatPct/100);const g=n+vatValue;const payload={invoiceNumber:invoiceNumber.trim(),type,issueDate,eventDate,description:description.trim()?description.trim():null,netAmount:n,vatAmount:vatValue,grossAmount:g,categoryId,contractorId};setSaving(true);try{await onSubmit(payload);onClose();}catch(err){var _getApiMessage;console.error(err);setError((_getApiMessage=getApiMessage(err))!==null&&_getApiMessage!==void 0?_getApiMessage:\"Nie udało się dodać dokumentu.\");}finally{setSaving(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"dm-backdrop\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"dm-card\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dm-head\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"dm-title\",children:\"Dodaj dokument\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dm-subtitle\",children:\"Zapisze si\\u0119 w buforze (BUFFER).\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"dm-x\",onClick:onClose,\"aria-label\":\"Zamknij\",children:\"\\u2715\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"dm-error\",children:error}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"dm-info\",children:\"\\u0141adowanie danych\\u2026\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"dm-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dm-grid\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label dm-span-2\",children:[\"Numer faktury\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"dm-input\",value:invoiceNumber,onChange:e=>setInvoiceNumber(e.target.value),placeholder:\"np. FV/12/2025\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dm-span-2\",style:{display:\"grid\",gridTemplateColumns:\"repeat(3, minmax(0, 1fr))\",gap:10},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label\",children:[\"Typ\",/*#__PURE__*/_jsx(\"select\",{className:\"dm-input\",value:type,onChange:e=>setType(e.target.value),children:TYPE_OPTIONS.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o.value,children:o.label},o.value))})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label\",children:[\"Data wystawienia\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"dm-input\",value:issueDate,onChange:e=>setIssueDate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label\",children:[\"Data zdarzenia\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"dm-input\",value:eventDate,onChange:e=>setEventDate(e.target.value),required:true})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label dm-span-2\",children:[\"Opis\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"dm-input\",value:description,onChange:e=>setDescription(e.target.value),placeholder:\"np. Zakup materia\\u0142\\xF3w\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dm-span-2\",style:{display:\"grid\",gridTemplateColumns:\"repeat(3, minmax(0, 1fr))\",gap:10},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label\",children:[\"Netto\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",inputMode:\"decimal\",className:\"dm-input\",value:netAmount,onChange:e=>setNetAmount(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label\",children:[\"VAT\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",inputMode:\"decimal\",className:\"dm-input\",value:vatAmount,onChange:e=>setVatAmount(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label\",children:[\"Brutto\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"dm-input\",value:grossAmount,readOnly:true,\"aria-readonly\":\"true\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label dm-span-2\",children:[\"Kategoria (opcjonalnie)\",/*#__PURE__*/_jsxs(\"select\",{className:\"dm-input\",value:categoryId!==null&&categoryId!==void 0?categoryId:\"\",onChange:e=>setCategoryId(e.target.value?Number(e.target.value):null),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014 brak \\u2014\"}),categories.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.name},c.id))]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"dm-label dm-span-2\",children:[\"Kontrahent (opcjonalnie)\",/*#__PURE__*/_jsxs(\"div\",{className:\"dm-combobox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"dm-input\",value:contractorQuery,placeholder:\"Wyszukaj kontrahenta po nazwie lub NIP\\u2026\",onChange:e=>{setContractorQuery(e.target.value);setContractorOpen(true);if(contractorId!==null)setContractorId(null);},onFocus:()=>{clearBlurTimer();setContractorOpen(true);},onBlur:()=>{clearBlurTimer();blurTimerRef.current=window.setTimeout(()=>setContractorOpen(false),140);}}),contractorOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"dm-combo-list\",role:\"listbox\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"dm-combo-item dm-combo-item--muted\",onMouseDown:e=>e.preventDefault(),onClick:()=>{setContractorId(null);setContractorQuery(\"\");setContractorOpen(false);},children:\"\\u2014 brak \\u2014\"}),filteredContractors.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"dm-combo-empty\",children:\"Brak wynik\\xF3w.\"}):filteredContractors.slice(0,80).map(c=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"dm-combo-item\",onMouseDown:e=>e.preventDefault(),onClick:()=>{setContractorId(c.id);setContractorQuery(\"\".concat(c.name).concat(c.taxId?\" (\".concat(c.taxId,\")\"):\"\"));setContractorOpen(false);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"dm-combo-name\",children:c.name}),c.taxId?/*#__PURE__*/_jsx(\"span\",{className:\"dm-combo-nip\",children:c.taxId}):null]},c.id))]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dm-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"dm-btn dm-btn--ghost\",onClick:onClose,disabled:saving,children:\"Anuluj\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"dm-btn dm-btn--primary\",disabled:saving||loading,children:saving?\"Zapisywanie…\":\"Dodaj\"})]})]})]})});};export default DocumentModal;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","listCategories","listContractors","jsx","_jsx","jsxs","_jsxs","TYPE_OPTIONS","value","label","todayISO","d","Date","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","concat","toMoneyString","n","Number","isFinite","toFixed","parseNumberSafe","s","normalized","replace","getApiMessage","err","_ref","_err$data$message","_err$data","_err$response","_err$response$data","msg","data","message","response","trim","DocumentModal","_ref2","onClose","onSubmit","invoiceNumber","setInvoiceNumber","type","setType","issueDate","setIssueDate","eventDate","setEventDate","description","setDescription","netAmount","setNetAmount","vatAmount","setVatAmount","grossAmount","setGrossAmount","categories","setCategories","contractors","setContractors","categoryId","setCategoryId","contractorId","setContractorId","contractorQuery","setContractorQuery","contractorOpen","setContractorOpen","blurTimerRef","loading","setLoading","saving","setSaving","error","setError","onKeyDown","e","key","window","addEventListener","removeEventListener","vatPct","gross","alive","cats","cons","Promise","all","some","c","id","selected","find","x","name","taxId","console","numbersOk","v","filteredContractors","q","toLowerCase","filter","_c$name","_c$taxId","nip","includes","clearBlurTimer","current","clearTimeout","handleSubmit","preventDefault","vatValue","g","payload","_getApiMessage","className","onClick","children","stopPropagation","onChange","target","placeholder","required","style","display","gridTemplateColumns","gap","map","o","inputMode","readOnly","onFocus","onBlur","setTimeout","role","onMouseDown","length","slice","disabled"],"sources":["/var/www/web-szyper/src/components/DocumentModal.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport type { CategoryRow, ContractorRow, DocumentCreateRequest, DocumentType } from \"../types\";\nimport { listCategories } from \"../categoryService\";\nimport { listContractors } from \"../contractorService\";\nimport \"./_documentModal.css\";\n\ntype Props = {\n    onClose: () => void;\n    onSubmit: (payload: DocumentCreateRequest) => Promise<void>;\n};\n\nconst TYPE_OPTIONS: Array<{ value: DocumentType; label: string }> = [\n    { value: \"INCOME\", label: \"Przychód\" },\n    { value: \"COST\", label: \"Koszt\" },\n];\n\nfunction todayISO(): string {\n    const d = new Date();\n    const yyyy = d.getFullYear();\n    const mm = String(d.getMonth() + 1).padStart(2, \"0\");\n    const dd = String(d.getDate()).padStart(2, \"0\");\n    return `${yyyy}-${mm}-${dd}`;\n}\n\nfunction toMoneyString(n: number): string {\n    if (!Number.isFinite(n)) return \"0.00\";\n    return n.toFixed(2);\n}\n\nfunction parseNumberSafe(s: string): number | null {\n    const normalized = (s ?? \"\").replace(\",\", \".\");\n    const n = Number(normalized);\n    return Number.isFinite(n) ? n : null;\n}\n\nfunction getApiMessage(err: any): string | null {\n    const msg = err?.data?.message ?? err?.response?.data?.message ?? err?.message;\n    return typeof msg === \"string\" && msg.trim() ? msg : null;\n}\n\nexport const DocumentModal: React.FC<Props> = ({ onClose, onSubmit }) => {\n    const [invoiceNumber, setInvoiceNumber] = useState<string>(\"\");\n\n    const [type, setType] = useState<DocumentType>(\"COST\");\n    const [issueDate, setIssueDate] = useState(todayISO());\n    const [eventDate, setEventDate] = useState(todayISO());\n    const [description, setDescription] = useState<string>(\"\");\n\n    const [netAmount, setNetAmount] = useState<string>(\"0.00\");\n    const [vatAmount, setVatAmount] = useState<string>(\"0.00\");\n    const [grossAmount, setGrossAmount] = useState<string>(\"0.00\");\n\n    const [categories, setCategories] = useState<CategoryRow[]>([]);\n    const [contractors, setContractors] = useState<ContractorRow[]>([]);\n    const [categoryId, setCategoryId] = useState<number | null>(null);\n    const [contractorId, setContractorId] = useState<number | null>(null);\n\n    const [contractorQuery, setContractorQuery] = useState(\"\");\n    const [contractorOpen, setContractorOpen] = useState(false);\n    const blurTimerRef = useRef<number | null>(null);\n\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        const onKeyDown = (e: KeyboardEvent) => {\n            if (e.key === \"Escape\") onClose();\n        };\n        window.addEventListener(\"keydown\", onKeyDown);\n        return () => window.removeEventListener(\"keydown\", onKeyDown);\n    }, [onClose]);\n\n    useEffect(() => {\n        const n = parseNumberSafe(netAmount);\n        const vatPct = parseNumberSafe(vatAmount);\n        if (n === null || vatPct === null) return;\n\n        const gross = n * (1 + vatPct / 100);\n        setGrossAmount(toMoneyString(gross));\n    }, [netAmount, vatAmount]);\n\n    useEffect(() => {\n        let alive = true;\n\n        (async () => {\n            setLoading(true);\n            setError(null);\n            try {\n                const [cats, cons] = await Promise.all([listCategories({ type }), listContractors()]);\n                if (!alive) return;\n\n                setCategories(cats);\n                setContractors(cons);\n\n                if (!cats.some((c) => c.id === categoryId)) setCategoryId(null);\n\n                if (contractorId !== null && !cons.some((c) => c.id === contractorId)) {\n                    setContractorId(null);\n                    setContractorQuery(\"\");\n                } else if (contractorId !== null) {\n                    const selected = cons.find((x) => x.id === contractorId);\n                    if (selected) {\n                        setContractorQuery(`${selected.name}${selected.taxId ? ` (${selected.taxId})` : \"\"}`);\n                    }\n                }\n            } catch (e) {\n                console.error(e);\n                if (!alive) return;\n                setError(\"Nie udało się pobrać kategorii/kontrahentów.\");\n            } finally {\n                if (!alive) return;\n                setLoading(false);\n            }\n        })();\n\n        return () => {\n            alive = false;\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [type]);\n\n    const numbersOk = useMemo(() => {\n        const n = parseNumberSafe(netAmount);\n        const v = parseNumberSafe(vatAmount);\n        return n !== null && v !== null;\n    }, [netAmount, vatAmount]);\n\n    const filteredContractors = useMemo(() => {\n        const q = contractorQuery.trim().toLowerCase();\n        if (!q) return contractors;\n\n        return contractors.filter((c) => {\n            const name = (c.name ?? \"\").toLowerCase();\n            const nip = (c.taxId ?? \"\").toLowerCase();\n            return name.includes(q) || nip.includes(q);\n        });\n    }, [contractors, contractorQuery]);\n\n    const clearBlurTimer = () => {\n        if (blurTimerRef.current) {\n            window.clearTimeout(blurTimerRef.current);\n            blurTimerRef.current = null;\n        }\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError(null);\n\n        if (!invoiceNumber.trim()) {\n            setError(\"Numer faktury jest wymagany.\");\n            return;\n        }\n\n        if (!numbersOk) {\n            setError(\"Kwoty (Netto i VAT) muszą być liczbami.\");\n            return;\n        }\n\n        const n = parseNumberSafe(netAmount)!;\n        const vatPct = parseNumberSafe(vatAmount)!;\n\n        const vatValue = n * (vatPct / 100);\n        const g = n + vatValue;\n\n        const payload: DocumentCreateRequest = {\n            invoiceNumber: invoiceNumber.trim(),\n            type,\n            issueDate,\n            eventDate,\n            description: description.trim() ? description.trim() : null,\n            netAmount: n,\n            vatAmount: vatValue,\n            grossAmount: g,\n            categoryId,\n            contractorId,\n        };\n\n        setSaving(true);\n        try {\n            await onSubmit(payload);\n            onClose();\n        } catch (err: any) {\n            console.error(err);\n            setError(getApiMessage(err) ?? \"Nie udało się dodać dokumentu.\");\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    return (\n        <div className=\"dm-backdrop\" onClick={onClose}>\n            <div className=\"dm-card\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"dm-head\">\n                    <div>\n                        <div className=\"dm-title\">Dodaj dokument</div>\n                        <div className=\"dm-subtitle\">Zapisze się w buforze (BUFFER).</div>\n                    </div>\n\n                    <button type=\"button\" className=\"dm-x\" onClick={onClose} aria-label=\"Zamknij\">\n                        ✕\n                    </button>\n                </div>\n\n                {error && <div className=\"dm-error\">{error}</div>}\n                {loading && <div className=\"dm-info\">Ładowanie danych…</div>}\n\n                <form className=\"dm-form\" onSubmit={handleSubmit}>\n                    <div className=\"dm-grid\">\n                        <label className=\"dm-label dm-span-2\">\n                            Numer faktury\n                            <input\n                                type=\"text\"\n                                className=\"dm-input\"\n                                value={invoiceNumber}\n                                onChange={(e) => setInvoiceNumber(e.target.value)}\n                                placeholder=\"np. FV/12/2025\"\n                                required\n                            />\n                        </label>\n\n                        <div className=\"dm-span-2\" style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0, 1fr))\", gap: 10 }}>\n                            <label className=\"dm-label\">\n                                Typ\n                                <select\n                                    className=\"dm-input\"\n                                    value={type}\n                                    onChange={(e) => setType(e.target.value as DocumentType)}\n                                >\n                                    {TYPE_OPTIONS.map((o) => (\n                                        <option key={o.value} value={o.value}>\n                                            {o.label}\n                                        </option>\n                                    ))}\n                                </select>\n                            </label>\n\n                            <label className=\"dm-label\">\n                                Data wystawienia\n                                <input\n                                    type=\"date\"\n                                    className=\"dm-input\"\n                                    value={issueDate}\n                                    onChange={(e) => setIssueDate(e.target.value)}\n                                    required\n                                />\n                            </label>\n\n                            <label className=\"dm-label\">\n                                Data zdarzenia\n                                <input\n                                    type=\"date\"\n                                    className=\"dm-input\"\n                                    value={eventDate}\n                                    onChange={(e) => setEventDate(e.target.value)}\n                                    required\n                                />\n                            </label>\n                        </div>\n\n                        <label className=\"dm-label dm-span-2\">\n                            Opis\n                            <input\n                                type=\"text\"\n                                className=\"dm-input\"\n                                value={description}\n                                onChange={(e) => setDescription(e.target.value)}\n                                placeholder=\"np. Zakup materiałów\"\n                            />\n                        </label>\n\n                        <div className=\"dm-span-2\" style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0, 1fr))\", gap: 10 }}>\n                            <label className=\"dm-label\">\n                                Netto\n                                <input\n                                    type=\"text\"\n                                    inputMode=\"decimal\"\n                                    className=\"dm-input\"\n                                    value={netAmount}\n                                    onChange={(e) => setNetAmount(e.target.value)}\n                                    required\n                                />\n                            </label>\n\n                            <label className=\"dm-label\">\n                                VAT\n                                <input\n                                    type=\"text\"\n                                    inputMode=\"decimal\"\n                                    className=\"dm-input\"\n                                    value={vatAmount}\n                                    onChange={(e) => setVatAmount(e.target.value)}\n                                    required\n                                />\n                            </label>\n\n                            <label className=\"dm-label\">\n                                Brutto\n                                <input type=\"text\" className=\"dm-input\" value={grossAmount} readOnly aria-readonly=\"true\" />\n                            </label>\n                        </div>\n\n                        <label className=\"dm-label dm-span-2\">\n                            Kategoria (opcjonalnie)\n                            <select\n                                className=\"dm-input\"\n                                value={categoryId ?? \"\"}\n                                onChange={(e) => setCategoryId(e.target.value ? Number(e.target.value) : null)}\n                            >\n                                <option value=\"\">— brak —</option>\n                                {categories.map((c) => (\n                                    <option key={c.id} value={c.id}>\n                                        {c.name}\n                                    </option>\n                                ))}\n                            </select>\n                        </label>\n\n                        <label className=\"dm-label dm-span-2\">\n                            Kontrahent (opcjonalnie)\n\n                            <div className=\"dm-combobox\">\n                                <input\n                                    type=\"text\"\n                                    className=\"dm-input\"\n                                    value={contractorQuery}\n                                    placeholder=\"Wyszukaj kontrahenta po nazwie lub NIP…\"\n                                    onChange={(e) => {\n                                        setContractorQuery(e.target.value);\n                                        setContractorOpen(true);\n                                        if (contractorId !== null) setContractorId(null);\n                                    }}\n                                    onFocus={() => {\n                                        clearBlurTimer();\n                                        setContractorOpen(true);\n                                    }}\n                                    onBlur={() => {\n                                        clearBlurTimer();\n                                        blurTimerRef.current = window.setTimeout(() => setContractorOpen(false), 140);\n                                    }}\n                                />\n\n                                {contractorOpen && (\n                                    <div className=\"dm-combo-list\" role=\"listbox\">\n                                        <button\n                                            type=\"button\"\n                                            className=\"dm-combo-item dm-combo-item--muted\"\n                                            onMouseDown={(e) => e.preventDefault()}\n                                            onClick={() => {\n                                                setContractorId(null);\n                                                setContractorQuery(\"\");\n                                                setContractorOpen(false);\n                                            }}\n                                        >\n                                            — brak —\n                                        </button>\n\n                                        {filteredContractors.length === 0 ? (\n                                            <div className=\"dm-combo-empty\">Brak wyników.</div>\n                                        ) : (\n                                            filteredContractors.slice(0, 80).map((c) => (\n                                                <button\n                                                    key={c.id}\n                                                    type=\"button\"\n                                                    className=\"dm-combo-item\"\n                                                    onMouseDown={(e) => e.preventDefault()}\n                                                    onClick={() => {\n                                                        setContractorId(c.id);\n                                                        setContractorQuery(`${c.name}${c.taxId ? ` (${c.taxId})` : \"\"}`);\n                                                        setContractorOpen(false);\n                                                    }}\n                                                >\n                                                    <span className=\"dm-combo-name\">{c.name}</span>\n                                                    {c.taxId ? <span className=\"dm-combo-nip\">{c.taxId}</span> : null}\n                                                </button>\n                                            ))\n                                        )}\n                                    </div>\n                                )}\n                            </div>\n                        </label>\n                    </div>\n\n                    <div className=\"dm-actions\">\n                        <button type=\"button\" className=\"dm-btn dm-btn--ghost\" onClick={onClose} disabled={saving}>\n                            Anuluj\n                        </button>\n                        <button type=\"submit\" className=\"dm-btn dm-btn--primary\" disabled={saving || loading}>\n                            {saving ? \"Zapisywanie…\" : \"Dodaj\"}\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default DocumentModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}